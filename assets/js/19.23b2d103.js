(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{519:function(t,e,r){"use strict";r.r(e);var s=r(6),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"跨域与同源策略"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#跨域与同源策略"}},[t._v("#")]),t._v(" 跨域与同源策略")]),t._v(" "),r("h3",{attrs:{id:"同源策略"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#同源策略"}},[t._v("#")]),t._v(" 同源策略")]),t._v(" "),r("blockquote",[r("p",[t._v("两个URL的"),r("em",[t._v("协议")]),t._v("，"),r("em",[t._v("端口")]),t._v("，"),r("em",[t._v("域名")]),t._v("都相同，称这两个URL为同源")])]),t._v(" "),r("ul",[r("li",[r("p",[t._v("Dom层面。非同源站点无法通过"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/opener",target:"_blank",rel:"noopener noreferrer"}},[r("code",[t._v("window.opener")]),r("OutboundLink")],1),t._v("相互之间操作dom")])]),t._v(" "),r("li",[r("p",[t._v("数据层面。非同源站点无法读取该站点Cookie、IndexDB、LocalStorage")])]),t._v(" "),r("li",[r("p",[t._v("网络层面。限制通过ajax向非同源站点发送请求")])])]),t._v(" "),r("h3",{attrs:{id:"解决跨域手段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解决跨域手段"}},[t._v("#")]),t._v(" 解决跨域手段")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("document.domain + iframe（只有在主域相同时，有效）")])]),t._v(" "),r("li",[r("p",[t._v("jsonp（json with padding）")])]),t._v(" "),r("li",[r("p",[t._v("跨域资源共享（CORS）")])]),t._v(" "),r("li",[r("p",[t._v("web sockets")])])]),t._v(" "),r("h2",{attrs:{id:"xss-cross-site-scripting-跨站脚本"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#xss-cross-site-scripting-跨站脚本"}},[t._v("#")]),t._v(" XSS（Cross Site Scripting）跨站脚本")]),t._v(" "),r("h3",{attrs:{id:"危害"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#危害"}},[t._v("#")]),t._v(" 危害")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("窃取 Cookie 信息")])]),t._v(" "),r("li",[r("p",[t._v("监听用户行为")])]),t._v(" "),r("li",[r("p",[t._v("修改 DOM")])]),t._v(" "),r("li",[r("p",[t._v("在页面内生成浮窗广告")])])]),t._v(" "),r("h3",{attrs:{id:"恶意脚本如何注入"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#恶意脚本如何注入"}},[t._v("#")]),t._v(" 恶意脚本如何注入")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("存储型 XSS 攻击")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("利用站点漏洞将一段恶意 JavaScript 代码提交到网站的数据库")])]),t._v(" "),r("li",[r("p",[t._v("用户向网站请求包含了恶意 JavaScript 脚本的页面")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://static001.geekbang.org/resource/image/2e/14/2ed3d8b93035df3c2bcfcc223dc47914.png",alt:"xss"}})])])]),t._v(" "),r("blockquote",[r("p",[t._v("应对措施：站点对"),r("code",[t._v("script")]),t._v("等关键字进行过滤，可参考知名开源库"),r("a",{attrs:{href:"https://github.com/leizongmin/js-xss",target:"_blank",rel:"noopener noreferrer"}},[t._v("js-xss"),r("OutboundLink")],1)])])]),t._v(" "),r("li",[r("p",[t._v("反射型 XSS 攻击")]),t._v(" "),r("p",[t._v("恶意 JavaScript 脚本通过url（路由）传参的方式，显示在页面")]),t._v(" "),r("p",[r("code",[t._v("http://localhost:3000/?xss=<script>alert('xss')<\/script>")])]),t._v(" "),r("p",[t._v("此时若页面直接显示"),r("code",[t._v("xss")]),t._v("的值，则会让恶意脚本有机可乘！")])]),t._v(" "),r("li",[r("p",[t._v("基于 DOM 的 XSS 攻击")]),t._v(" "),r("blockquote",[r("p",[t._v("在 Web 资源传输过程或者在用户使用页面的过程中修改 Web 页面的数据")])]),t._v(" "),r("ul",[r("li",[r("p",[t._v("DNS劫持")])]),t._v(" "),r("li",[r("p",[t._v("Wifi劫持")])]),t._v(" "),r("li",[r("p",[t._v("本地恶意软件")])])])])]),t._v(" "),r("blockquote",[r("p",[t._v("应对措施：Cookie HttpOnly，"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP",target:"_blank",rel:"noopener noreferrer"}},[t._v("内容安全策略( CSP )"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"csrf-cross-site-request-forgery-跨站请求伪造"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#csrf-cross-site-request-forgery-跨站请求伪造"}},[t._v("#")]),t._v(" CSRF（Cross-site request forgery）跨站请求伪造")])])}),[],!1,null,null,null);e.default=v.exports}}]);