(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{531:function(t,_,v){"use strict";v.r(_);var a=v(6),e=Object(a.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"http-1"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http-1"}},[t._v("#")]),t._v(" HTTP/1")]),t._v(" "),v("h3",{attrs:{id:"http-0-9"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http-0-9"}},[t._v("#")]),t._v(" HTTP/0.9")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("没有HTTP 请求头和请求体")])]),t._v(" "),v("li",[v("p",[t._v("没有HTTP 响应头和响应体")])]),t._v(" "),v("li",[v("p",[t._v("返回的文件内容是以 ASCII 字符流来传输")])])]),t._v(" "),v("h3",{attrs:{id:"http-1-0"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http-1-0"}},[t._v("#")]),t._v(" HTTP/1.0")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("支持多种类型的文件下载")])]),t._v(" "),v("li",[v("p",[t._v("增加请求头和响应头")]),t._v(" "),v("ul",[v("li",[t._v("请求头加入"),v("em",[t._v("用户代理")]),t._v("字段")])])]),t._v(" "),v("li",[v("p",[t._v("引入"),v("em",[t._v("状态码")])])]),t._v(" "),v("li",[v("p",[t._v("提供Cache机制")])])]),t._v(" "),v("h3",{attrs:{id:"http-1-1"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http-1-1"}},[t._v("#")]),t._v(" HTTP/1.1")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("持久连接 (request header: keep-alive)")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("默认开启，可主动关闭"),v("code",[t._v("Connection: close")])])]),t._v(" "),v("li",[v("p",[t._v("对于同一个域名，默认允许同时建立 6 个 TCP 持久连接")])]),t._v(" "),v("li",[v("p",[t._v("能减少 TCP 的建立和断开次数，但是它需要等待前面的请求返回之后，才能进行下一次请求，引发"),v("strong",[t._v("队头阻塞")])]),t._v(" "),v("blockquote",[v("p",[t._v("HTTP/1.1 中试图通过管线化的技术来解决队头阻塞的问题。HTTP/1.1 中的管线化是指将多个 HTTP 请求整批提交给服务器的技术，虽然可以整批发送请求，不过服务器依然需要根据请求顺序来回复浏览器的请求。")])])])])]),t._v(" "),v("li",[v("p",[t._v("对动态生成的内容提供了完美支持")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("不过随着服务器端的技术发展，很多页面的内容都是动态生成的，因此在传输数据之前并不知道最终的数据大小，这就导致了浏览器不知道何时会接收完所有的文件数据。")])]),t._v(" "),v("li",[v("p",[t._v("HTTP/1.1 通过引入 Chunk transfer 机制来解决这个问题，服务器会将数据分割成若干个任意大小的数据块，每个数据块发送时会附上上个数据块的长度，最后使用一个零长度的块作为发送数据完成的标志。这样就提供了对动态内容的支持。")])])])]),t._v(" "),v("li",[v("p",[t._v("引入了客户端 Cookie 机制和安全机制")])])]),t._v(" "),v("h2",{attrs:{id:"http-2-2015-年-5-月正式发布"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http-2-2015-年-5-月正式发布"}},[t._v("#")]),t._v(" HTTP/2 (2015 年 5 月正式发布)")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("多路复用")]),t._v(" "),v("blockquote",[v("p",[t._v("一个域名只使用一个 TCP 长连接和消除队头阻塞问题")])]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static001.geekbang.org/resource/image/0a/00/0a990f86ad9c19fd7d7620b2ef7ee900.jpg",alt:"multi_reuse"}})]),t._v(" "),v("ul",[v("li",[t._v("具体实现")])]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static001.geekbang.org/resource/image/86/6a/86cdf01a3af7f4f755d28917e58aae6a.png",alt:"multi_realize"}})])]),t._v(" "),v("li",[v("p",[t._v("可以设置请求的优先级")])]),t._v(" "),v("li",[v("p",[t._v("服务器推送")])]),t._v(" "),v("li",[v("p",[t._v("头部压缩")])])]),t._v(" "),v("h2",{attrs:{id:"http-3"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http-3"}},[t._v("#")]),t._v(" HTTP/3")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("HTTP 2.0的局限性")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("HTTP/2 基于TCP协议，在 TCP 传输过程中，有几率因单个数据包的丢失而造成阻塞—— TCP 上的队头阻塞")])]),t._v(" "),v("li",[v("p",[t._v("TCP 建立连接的延时")])]),t._v(" "),v("li",[v("p",[t._v("TCP 协议僵化（太多中间设备与操作系统依赖该协议）")])])])])]),t._v(" "),v("p",[t._v("于是有了"),v("code",[t._v("QUIC")])]),t._v(" "),v("p",[v("img",{attrs:{src:"https://static001.geekbang.org/resource/image/0b/c6/0bae470bb49747b9a59f9f4bb496a9c6.png",alt:"quic"}})]),t._v(" "),v("ul",[v("li",[v("p",[t._v("实现了类似 TCP 的流量控制、传输可靠性的功能")])]),t._v(" "),v("li",[v("p",[t._v("集成了 TLS 加密功能")])]),t._v(" "),v("li",[v("p",[t._v("实现了 HTTP/2 中的多路复用功能")])]),t._v(" "),v("li",[v("p",[t._v("实现了快速握手功能")])])]),t._v(" "),v("h2",{attrs:{id:"参考文献"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考文献"}},[t._v("#")]),t._v(" 参考文献")]),t._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://time.geekbang.org/column/article/147501",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器工作原理与实践 - 浏览器中的网络"),v("OutboundLink")],1)])])])}),[],!1,null,null,null);_.default=e.exports}}]);